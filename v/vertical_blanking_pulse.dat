3|266|Public
50|$|Most {{consumer}} VCRs use {{the known}} black {{level of the}} <b>vertical</b> <b>blanking</b> <b>pulse</b> to set their recording levels. The Macrovision copy protection scheme inserts pulses in the VBI, where the recorder expects a constant level, to disrupt recording to videotapes.|$|E
50|$|Most VCR {{circuits}} use the {{amplitude of}} the <b>vertical</b> <b>blanking</b> <b>pulse</b> {{to operate the}} AGC. Video copy control schemes such as Macrovision exploit this, inserting spikes in the pulse which will be ignored by most television sets, but cause a VCR's AGC to overcorrect and corrupt the recording.|$|E
50|$|DAC {{word length}}s range usually from 6 to 10 bits. The SRAM's word length {{is three times}} the DAC's word length. The SRAM acts as a color lookup table (CLUT). It usually has 256 entries (and thus an 8-bit address). If the DAC's word length is also 8 bits, we have a 256 x 24-bit SRAM which allows a {{selection}} of 256 out of 16777216 (16,7 million) possible colors for the display. The contents of this SRAM can be altered when no pixel needs to be generated for transmission to the display. A synchronization pulse is required to maintain vertical picture stability. Therefore, a <b>vertical</b> <b>blanking</b> <b>pulse</b> is generated for every frame. This <b>vertical</b> <b>blanking</b> <b>pulse</b> is not visible on the display, nor is any pixel sent. Therefore, the D/A is idle and can allow the user to modify the SRAM color lookup table.|$|E
50|$|A <b>vertical</b> <b>blank</b> {{interrupt}} (or VBI) is {{a hardware}} feature {{found in some}} computer systems that generate a video display. Typical video display circuits generate <b>vertical</b> <b>blanking</b> and <b>vertical</b> sync' <b>pulses</b> when the display picture has completed and the raster is being returned {{to the start of}} the display. With VBI, the <b>vertical</b> <b>blank</b> <b>pulse</b> is also used to generate an interrupt request for the computer's microprocessor.|$|R
50|$|In {{video game}} systems the <b>vertical</b> <b>blanking</b> <b>pulses</b> are {{extensively}} used {{to time the}} plotting of new graphics/removal of old ones {{in order to avoid}} screen tearing, as they occur at an accurately known frequency, and many systems up to the 16-bit era featured games and other graphical programs where drawing was conducted during the blanking interval for this reason. Cases where synchronising game code this way was more necessary than preferable made early video game systems such as the Atari 2600 difficult to program.|$|R
50|$|In a {{composite}} video signal (CVS) {{there are two types}} of blanking: horizontal and <b>vertical.</b> Horizontal <b>blanking</b> is between lines and <b>vertical</b> <b>blanking</b> is between fields (half frames). In a poorly tuned TV receiver the horizontal blanking can be seen at the right or left of the image and the <b>vertical</b> <b>blanking</b> can be seen at the top or bottom of the image. VIT signals are inserted in the <b>vertical</b> <b>blanking.</b>|$|R
50|$|When the OS <b>Vertical</b> <b>Blank</b> Interrupt is enabled, direct updates to the ANTIC DLIST {{registers}} by the CPU or the ANTIC Jump instructions will be overwritten by the OS {{during the}} next <b>Vertical</b> <b>Blank</b> by the values in the shadow registers. Therefore, page flipping implemented by Display Lists that point to the next Display List in series will not operate as expected unless the <b>Vertical</b> <b>Blank</b> interrupt is disabled.|$|R
5000|$|When NMIEN's VBI bit is set, ANTIC will {{signals a}} <b>Vertical</b> <b>Blank</b> Interrupt {{at the end}} of {{processing}} the JVB (Jump <b>vertical</b> <b>blank)</b> {{at the end of}} the Display List. The Operating System uses the <b>Vertical</b> <b>Blank</b> to perform various housekeeping chores (among other things - updating timers, copying controller input values to their Shadow registers, and copying the contents of Shadow registers to the custom chips hardware registers.) ...|$|R
50|$|Note {{that when}} the CRITIC flag ($42hex/66dec) is non-zero {{execution}} of the Deferred <b>Vertical</b> <b>Blank</b> interrupt is suppressed regardless of the addresses in the vectors. The default value of CRITIC, 0, allows execution of both Immediate and Deferred <b>Vertical</b> <b>Blank</b> Interrupts.|$|R
50|$|Note {{that the}} DLIST {{registers}} are also updated by the Operating System's <b>Vertical</b> <b>Blank</b> Interrupt (VBI) routine using the values in shadow registers SDLSTL/SDLSTH ($0230-$0231hex/560-561dec). When the OS VBI routine is enabled direct updates to the ANTIC DLIST registers by the CPU or the ANTIC Jump instructions will be overwritten by the OS {{during the next}} <b>Vertical</b> <b>Blank.</b> This implies that an ANTIC JVB (Jump and wait for <b>Vertical</b> <b>Blank)</b> instruction that specifies an invalid address (or a valid address that differs from the shadow SDLST value) has no real affect on the display.|$|R
50|$|ANTIC begins {{executing}} the Display List pointed {{to by the}} 16-bit address in registers DLISTL/DLISTH ($D402-$D403hex/54274-54275dec). The address registers are updated during Display List execution by ANTIC's JMP (Jump) and JVB (Jump and wait for <b>Vertical</b> <b>Blank).</b> The address is also updated by the Operating System's <b>Vertical</b> <b>Blank</b> Interrupt (VBI) routine using the values in shadow registers SDLSTL/SDLSTH ($0230-$0231hex/560-561dec).|$|R
50|$|The Operating System {{sets the}} speaker bit during the <b>Vertical</b> <b>Blank</b> routine. Repeatedly writing 0 to the bit {{will produce a}} 60 Hz buzzing sound as the <b>Vertical</b> <b>Blank</b> resets the value. Useful tones can be {{generated}} using 6502 code effectively adding a fifth audio channel, albeit a channel requiring CPU time to maintain the audio tones.|$|R
50|$|In television, in particular, the <b>vertical</b> <b>blanking</b> {{interval}} is long {{to accommodate}} the slow equipment {{available at the time}} the standard was set. Fast modern electronics allows digital information to be encoded into the signal during the <b>vertical</b> <b>blanking</b> interval; it is not displayed on screen as the beam is blanked, but can be processed by appropriate circuitry.|$|R
5000|$|Vertical {{interval}} timecode (VITC), in the <b>vertical</b> <b>blanking</b> {{interval of}} a video track ...|$|R
5000|$|Control the display-oriented <b>Vertical</b> <b>Blank</b> and Display List interrupts, and the Reset key interrupt.|$|R
5000|$|... #Caption: PAL videosignal frames. Left to right: {{frame with}} scan lines (overlapping together, {{horizontal}} sync pulses show as the doubled straight horizontal lines), <b>vertical</b> <b>blanking</b> interval with <b>vertical</b> sync (shows as brightness {{increase of the}} bottom part of the signal in almost the leftmost part of the <b>vertical</b> <b>blanking</b> interval), entire frame, another VBI with VSYNC, beginning of third frame ...|$|R
5000|$|User {{programs}} can insert execution of custom code either before (Immediate) or after (Deferred) the Operating System's <b>Vertical</b> <b>Blank</b> Interrupt routines. Since the OS <b>Vertical</b> <b>Blank</b> interrupt {{could be called}} while a user program is updating the vectors, the Operating system provides a routine, SETVBV ($E45Chex/58460dec), that will safely update the VVBLKI or VVBLKD vectors to point to a new routine: ...|$|R
5000|$|Taking <b>Vertical</b> <b>blanking</b> {{interval}} into account, {{it draws}} 1024x1.05 lines {{for a full}} frame cycle ...|$|R
5000|$|Wait for {{the next}} <b>Vertical</b> <b>Blank</b> Interrupt (VBI) to apply the Shadow {{register}} changes. Possible methods: ...|$|R
50|$|APS can be also {{signaled}} digitally, in the CGMS-A {{bit field}} {{sent in the}} <b>vertical</b> <b>blanking</b> interval.|$|R
50|$|The JVB's {{argument}} usually {{points to}} the beginning of the same Display List, but it can also point to another Display List, so that a chain of Display Lists is executed after consecutive <b>vertical</b> <b>blanks.</b> Of course, to give ANTIC control over the start of the next Display List the OS <b>Vertical</b> <b>Blank</b> interrupt must be disabled to prevent it overwriting ANTIC hardware registers with the shadow register values.|$|R
50|$|This {{problem is}} solved for many write {{registers}} by Operating System Shadow registers implemented in regular RAM as places {{to store the}} last value written to registers. Operating System Shadow registers are copied from RAM to the hardware registers during the <b>Vertical</b> <b>Blank.</b> Therefore, any write to hardware registers which have corresponding shadow registers will be overwritten by {{the value of the}} Shadow registers during the next <b>Vertical</b> <b>Blank.</b>|$|R
50|$|The {{remaining}} <b>vertical</b> <b>blanking</b> interval {{lines are}} typically used for datacasting or ancillary data such as video editing timestamps (vertical interval timecodes or SMPTE timecodes on lines 12-14), test data on lines 17-18, a network source code on line 20 and closed captioning, XDS, and V-chip data on line 21. Early teletext applications also used <b>vertical</b> <b>blanking</b> interval lines 14-18 and 20, but teletext over NTSC was never widely adopted by viewers.|$|R
2500|$|Teletext {{information}} is broadcast in the <b>vertical</b> <b>blanking</b> interval between image frames in a broadcast television signal, in numbered [...] "pages." ...|$|R
5000|$|CGMS-A is signalled by 2 bits in the <b>vertical</b> <b>blanking</b> {{interval}} (VBI) {{signal of}} analog television broadcasts {{according to the}} following matrix: ...|$|R
50|$|The Game Boy's LCD screen can {{be turned}} off by game software. Doing so outside of the <b>vertical</b> <b>blanking</b> {{interval}} can damage the hardware.|$|R
5000|$|This {{problem is}} solved for some {{registers}} by Operating System [...] "Shadow" [...] registers implemented in regular RAM that mirror {{the values of}} hardware registers. During the <b>Vertical</b> <b>Blank</b> the Operating System copies the Shadow registers in RAM for Write registers to the corresponding hardware register, and updates Shadow values for Read registers from the hardware accordingly. Therefore, writes to hardware registers which have corresponding shadow registers will be overwritten by {{the value of the}} Shadow registers during the next <b>vertical</b> <b>blank.</b>|$|R
50|$|The {{address is}} also updated by the Operating System's <b>Vertical</b> <b>Blank</b> Interrupt (VBI) routine using the values from Operation System shadow {{registers}} SDLSTL/SDLSTH ($0230-$0231hex/560-561dec). When the OS VBI routine is enabled direct updates to the ANTIC DLIST registers by the CPU or the ANTIC Jump instructions will be overwritten by the OS {{during the next}} <b>Vertical</b> <b>Blank.</b> Since VBI processing is the usual state of the system, most programs rely on this and only update the OS shadow registers (SDLSTL/SDLSTH $0230-$0231hex/560-561dec) to set the Display List.|$|R
50|$|Vertical {{synchronization}} eliminates this by timing {{frame buffer}} fills {{to coincide with}} the <b>vertical</b> <b>blanking</b> interval, thus ensuring that only whole frames are seen on-screen. Software such as video games and computer aided design (CAD) packages often allow vertical synchronization as an option, because it delays the image update until the <b>vertical</b> <b>blanking</b> interval. This produces a small penalty in latency, because the program has to wait until the video controller has finished transmitting the image to the display before continuing. Triple buffering reduces this latency significantly.|$|R
50|$|Image {{data on the}} bus is {{interleaved}} with signals for {{horizontal and}} <b>vertical</b> <b>blanking</b> intervals (porches). The data is drawn to the display in real time and not stored by the device. This allows the manufacture of simpler display devices without frame buffer memory. However, {{it also means that}} the device must be continuously refreshed (at a rate such as 30 or 60 frames per second) or it will lose the image. Image data is only sent in HS mode. When in HS mode, commands are transmitted during the <b>vertical</b> <b>blanking</b> interval.|$|R
50|$|The {{parameters}} {{defined by}} standard include horizontal <b>blanking</b> and <b>vertical</b> <b>blanking</b> intervals, horizontal frequency and vertical frequency (collectively, pixel clock rate or video signal bandwidth), and horizontal/vertical sync polarity.|$|R
5000|$|Turn off ANTIC Display List Interrupts by {{clearing}} bit 7 ($80) of NMIEN {{by setting}} the register to value $40 {{which allows the}} <b>Vertical</b> <b>Blank</b> Interrupt to continue running.|$|R
25|$|Different picture formats have {{different}} requirements for digital blanking, for example all so called 1080 line HD formats have 1080 active lines, but 1125 total lines, {{with the remainder}} being <b>vertical</b> <b>blanking.</b>|$|R
50|$|The video {{parameters}} {{defined by}} the standard include horizontal <b>blanking</b> (retrace) and <b>vertical</b> <b>blanking</b> intervals, horizontal frequency and vertical frequency (collectively, pixel clock rate or video signal bandwidth), and horizontal/vertical sync polarity.|$|R
50|$|ANTIC {{provides}} 15 Read/Write registers controlling Playfield display parameters, DMA for Player/Missile graphics, fine scrolling, {{light pen}} input, and interrupts. Hardware registers do not return the written values back when read. This problem is solved by Operating System Shadow registers implemented in regular RAM as places {{to store the}} last value written to registers. Operating System Shadow registers are copied from RAM to the hardware registers during the <b>vertical</b> <b>blank.</b> Therefore, any writes to hardware registers which have corresponding shadow registers will be overwritten by {{the value of the}} Shadow registers during the next <b>vertical</b> <b>blank.</b>|$|R
25|$|Those {{allow the}} {{emulation}} of analogue teletext on digital TV platforms, {{directly on the}} TV or set-top box, or via analog output, reproducing the <b>vertical</b> <b>blanking</b> interval data in which Teletext is carried.|$|R
